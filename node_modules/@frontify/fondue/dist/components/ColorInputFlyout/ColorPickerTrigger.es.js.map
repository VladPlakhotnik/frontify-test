{"version":3,"file":"ColorPickerTrigger.es.js","sources":["../../../src/components/ColorInputFlyout/ColorPickerTrigger.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { MenuItemContent } from '@components/MenuItem/MenuItemContent';\nimport { Trigger } from '@components/Trigger/Trigger';\nimport { IconDroplet } from '@foundation/Icon/Generated';\nimport { IconSize } from '@foundation/Icon/IconSize';\nimport { useMemoizedId } from '@hooks/useMemoizedId';\nimport { useFocusRing } from '@react-aria/focus';\nimport { toShortRgb } from '@utilities/colors';\nimport { merge } from '@utilities/merge';\nimport { ReactElement } from 'react';\nimport { TinyColor } from '@ctrl/tinycolor';\nimport { ColorFormat } from '../../types/colors';\nimport { ColorInputTitle } from './ColorInputTitle';\nimport { ColorPickerFlyoutProps } from './ColorPickerFlyout';\n\ntype ColorInputTriggerProps = Pick<ColorPickerFlyoutProps, 'id' | 'currentColor' | 'disabled'> & {\n    isOpen?: boolean;\n    format: ColorFormat;\n    clearable?: boolean;\n    onClear?: () => void;\n    onDelete?: () => void;\n};\n\nexport const ColorInputTrigger = ({\n    id,\n    currentColor,\n    format,\n    isOpen = false,\n    disabled = false,\n    clearable = false,\n    onClear,\n    onDelete,\n}: ColorInputTriggerProps): ReactElement => {\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const backgroundColor = currentColor ? new TinyColor(toShortRgb(currentColor)).toRgbString() : '';\n\n    return (\n        <Trigger\n            isOpen={isOpen}\n            disabled={disabled}\n            isFocusVisible={isFocusVisible}\n            showClear={!!currentColor && clearable}\n            onClear={onClear}\n            onDelete={onDelete}\n        >\n            <button\n                {...focusProps}\n                type=\"button\"\n                id={useMemoizedId(id)}\n                disabled={disabled}\n                className={merge([\n                    'tw-overflow-hidden tw-flex-auto tw-h-full tw-rounded tw-text-left tw-outline-none tw-py-2 tw-pl-3 tw-min-h-[34px] tw-pr-8',\n                    !currentColor && 'tw-text-black-60',\n                    disabled && 'tw-text-black-40',\n                ])}\n            >\n                <MenuItemContent\n                    title={\n                        currentColor ? <ColorInputTitle format={format} currentColor={currentColor} /> : 'Select color'\n                    }\n                    decorator={\n                        currentColor ? (\n                            <span\n                                className={merge([\n                                    'tw-h-4 tw-w-4 tw-rounded tw-flex tw-items-center tw-justify-center tw-ring-1 tw-ring-black-10 tw-ring-offset-1',\n                                    disabled && 'tw-opacity-50',\n                                ])}\n                                style={{ backgroundColor }}\n                            />\n                        ) : (\n                            <span className=\"tw-text-black-70\">\n                                <IconDroplet size={IconSize.Size12} />\n                            </span>\n                        )\n                    }\n                />\n            </button>\n        </Trigger>\n    );\n};\nColorInputTrigger.displayName = 'FondueColorInputTrigger';\n"],"names":["ColorInputTrigger","id","currentColor","format","isOpen","disabled","clearable","onClear","onDelete","isFocusVisible","focusProps","useFocusRing","backgroundColor","TinyColor","toShortRgb","jsx","Trigger","useMemoizedId","merge","MenuItemContent","ColorInputTitle","IconDroplet","IconSize"],"mappings":";;;;;;;;;;;AAwBO,MAAMA,IAAoB,CAAC;AAAA,EAC9B,IAAAC;AAAA,EACA,cAAAC;AAAA,EACA,QAAAC;AAAA,EACA,QAAAC,IAAS;AAAA,EACT,UAAAC,IAAW;AAAA,EACX,WAAAC,IAAY;AAAA,EACZ,SAAAC;AAAA,EACA,UAAAC;AACJ,MAA4C;AACxC,QAAM,EAAE,gBAAAC,GAAgB,YAAAC,EAAW,IAAIC,EAAa,GAC9CC,IAAkBV,IAAe,IAAIW,EAAUC,EAAWZ,CAAY,CAAC,EAAE,YAAgB,IAAA;AAG3F,SAAA,gBAAAa;AAAA,IAACC;AAAA,IAAA;AAAA,MACG,QAAAZ;AAAA,MACA,UAAAC;AAAA,MACA,gBAAAI;AAAA,MACA,WAAW,CAAC,CAACP,KAAgBI;AAAA,MAC7B,SAAAC;AAAA,MACA,UAAAC;AAAA,MAEA,UAAA,gBAAAO;AAAA,QAAC;AAAA,QAAA;AAAA,UACI,GAAGL;AAAA,UACJ,MAAK;AAAA,UACL,IAAIO,EAAchB,CAAE;AAAA,UACpB,UAAAI;AAAA,UACA,WAAWa,EAAM;AAAA,YACb;AAAA,YACA,CAAChB,KAAgB;AAAA,YACjBG,KAAY;AAAA,UAAA,CACf;AAAA,UAED,UAAA,gBAAAU;AAAA,YAACI;AAAA,YAAA;AAAA,cACG,OACIjB,IAAe,gBAAAa,EAACK,GAAgB,EAAA,QAAAjB,GAAgB,cAAAD,EAA4B,CAAA,IAAK;AAAA,cAErF,WACIA,IACI,gBAAAa;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACG,WAAWG,EAAM;AAAA,oBACb;AAAA,oBACAb,KAAY;AAAA,kBAAA,CACf;AAAA,kBACD,OAAO,EAAE,iBAAAO,EAAgB;AAAA,gBAAA;AAAA,cAC7B,IAEC,gBAAAG,EAAA,QAAA,EAAK,WAAU,oBACZ,4BAACM,GAAY,EAAA,MAAMC,EAAS,OAAA,CAAQ,EACxC,CAAA;AAAA,YAAA;AAAA,UAGZ;AAAA,QAAA;AAAA,MACJ;AAAA,IAAA;AAAA,EAAA;AAGZ;AACAtB,EAAkB,cAAc;"}